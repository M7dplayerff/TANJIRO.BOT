export async function before(m, { conn, isAdmin, isBotAdmin, usedPrefix }) {

  const datas = global;

  const user = datas.db.data.users[m.sender];

  const chat = global.db.data.chats[m.chat];

  const bot = global.db.data.settings[this.user.jid] || {};

  const delet = m.key.participant;

  const bang = m.key.id;

  const name = await conn.getName(m.sender);

  const botNumber = this.user.jid; // Ø±Ù‚Ù… Ø§Ù„Ø¨ÙˆØª Ù†ÙØ³Ù‡

  if (m.isBaileys && m.fromMe || m.sender === botNumber) {

    return !0; // ØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ù…Ù† Ø§Ù„Ø¨ÙˆØª Ù†ÙØ³Ù‡

  }

  if (!m.isGroup) return !1;

  // Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø­Ø¸ÙˆØ±Ø©

  const forbiddenWords = ["Ù…ØªÙ†Ø§Ùƒ", "Ù…ØªÙ†Ø§ÙƒÙ‡", "Ù…ØªÙ†Ø§ÙƒØ©", "Ø´Ø±Ù…ÙˆØ·", "Ø´Ø±Ù…ÙˆØ·Ù‡", "Ø´Ø±Ù…ÙˆØ·Ø©", "Ù‚Ø­Ø¨Ù‡", "Ù‚Ø§Ø­Ø¨", "Ù‚Ø­Ø¨Ø©", "Ø¹Ø§Ù‡Ø±Ù‡", "Ø¹Ø§Ù‡Ø±Ø©", "Ø¹Ø§Ù‡Ø±", "Ù„Ø¨ÙˆÙ‡", "Ù„Ø¨ÙˆØ©", "Ù…Ù†ÙŠÙƒ", "Ù…Ù†ÙŠÙƒÙ‡", "Ù…Ù†ÙŠÙƒØ©", "Ø´Ø±Ù…Ø·Ù‡", "Ø´Ø±Ù…Ø·Ø©", "ÙƒØ³Ù…Ùƒ", "ÙƒØ³", "ÙƒØ³Ø®ØªÙƒ", "Ø§Ù„Ù‚Ø­Ø¨Ù‡", "Ø§Ù„Ù‚Ø­Ø¨Ø©", "ÙˆØ³Ø®Ù‡", "ÙˆØ³Ø®Ø©", "Ø§Ù„ÙˆØ³Ø®Ù‡", "Ø§Ù„ÙˆØ³Ø®Ø©", "Ø§Ø¨Ù† Ø§Ù„Ø­Ø±Ø§Ù…","Ø¨Ù†Øª Ø§Ù„Ø­Ø±Ø§Ù…", "Ø¯Ø§Ø¹Ø±", "Ø¯Ø§Ø¹Ø±Ù‡", "Ø¯Ø§Ø¹Ø±Ø©", "ÙØ§Ø¬Ø±", "ÙØ§Ø¬Ø±Ø©", "ÙØ§Ø¬Ø±Ù‡", "Ø¨Ù†ØªÙ…ØªÙ†Ø§ÙƒÙ‡","Ø¨Ù†ØªÙ…ØªÙ†Ø§ÙƒØ©", "Ø¨Ù†Ù…ØªÙ†Ø§ÙƒÙ‡", "Ø¨Ù†Ù…ØªÙ†Ø§ÙƒØ©", "Ø¹Ø±Øµ", "Ù…Ø¹Ø±ØµÙ‡", "Ù…Ø¹Ø±ØµØ©", "Ø¨Ù† Ø§Ù„Ø¹Ø±Øµ", "Ø¨Ù†Øª Ø§Ù„Ø¹Ø±Øµ", "Ø®ÙˆÙ„"]; // Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ÙƒÙ„Ù…Ø§Øª

  // Ù†Ø¸Ø§Ù… ØªØ­Ø°ÙŠØ± Ù„Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø­Ø¸ÙˆØ±Ø©

  const messageText = m.text.toLowerCase().trim(); // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù†Øµ Ø¥Ù„Ù‰ Ø£Ø­Ø±Ù ØµØºÙŠØ±Ø© ÙˆØ¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ø³Ø§ÙØ§Øª Ø§Ù„Ø²Ø§Ø¦Ø¯Ø©

  for (let word of forbiddenWords) {

    // ØªØ¹Ø¨ÙŠØ± Ù…Ù†ØªØ¸Ù… Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Ø§Ù„ÙƒÙ„Ù…Ø© Ù…Ø³ØªÙ‚Ù„Ø©ØŒ Ù…Ø­Ø§Ø·Ø© Ø¨Ù…Ø³Ø§ÙØ§Øª Ø£Ùˆ Ø¹Ù„Ø§Ù…Ø§Øª ØªØ±Ù‚ÙŠÙ… Ø£Ùˆ ÙÙŠ Ø¨Ø¯Ø§ÙŠØ©/Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù†Øµ

    const regex = new RegExp(`(^|\\s)${word}($|\\s)`, 'i');

    if (regex.test(messageText)) {

      if (isBotAdmin) {

        // Ø­Ø°Ù Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø£ÙˆÙ„Ø§Ù‹

        await conn.sendMessage(m.chat, { delete: { remoteJid: m.chat, fromMe: false, id: bang, participant: delet } });

        

        // Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª

        user.warn = user.warn || 0;  // ØªØ¹ÙŠÙŠÙ† Ø¹Ø¯Ø¯ Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ù‹Ø§

        user.warn += 1;  // Ø²ÙŠØ§Ø¯Ø© Ø¹Ø¯Ø¯ Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª

        if (user.warn < 5) {

          await this.sendMessage(m.chat, {

            text: `*â¦‘ğŸ•·ï¸â¦’ â Ø§Ù„Ù€Ù€Ø³Ù€Ù€Ø¨ Ù…Ù€Ù€Ù…Ù€Ù€Ù†Ù€Ù€ÙˆØ¹ Ù‡Ù€Ù€Ù†Ù€Ù€Ø§âš ï¸ â†œØ§Ø¹Ù€Ù€ØªÙ€Ù€Ù‚Ù€Ù€Ø¯ Ø§Ù† Ù…Ù€Ù€Ù† Ù‚Ù€Ù€Ø§Ù…Ù€Ù€Ùˆ Ø¨Ù€ØªÙ€Ø¹Ù€Ù„Ù€ÙŠÙ€Ù…Ù€Ùƒ Ø§Ù„Ù€Ù€Ø²ÙˆÙ‚ Ù†Ù€Ø³Ù€ÙŠÙ€Ùˆ Ø¨Ù€Ø¹Ù€Ø¶ Ø§Ù„Ù€Ø§Ø´Ù€ÙŠÙ€Ø§Ø¡ Ø­Ù€Ù€Ø§Ù† Ø§Ù„Ù€ÙˆÙ‚Ù€Øª Ù„Ù€ØªÙ€Ø¹Ù€Ù„Ù€Ù… Ø°Ù„Ù€Ù€Ùƒ Ø§Ù†Ù€Ù€Ù€Ø°Ø§Ø±ØªÙƒ ${user.warn}/5 Ù„Ù€Ùˆ ÙˆØµÙ€Ù„Ù€Ùˆ Ø®Ù€Ù…Ù€Ø³Ù€Ù‡ Ù‡Ù€ØªÙ€ÙˆØ­Ù€Ø´Ù€Ù†Ù€Ø§ğŸ¥±ğŸ‘‹*`,

            mentions: [m.sender]

          }, { quoted: m });

        } else {

          user.warn = 0;  // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¹Ø¯Ø¯ Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª

          await this.sendMessage(m.chat, {

            text: `*â¦‘ğŸ•·ï¸â¦’ â Ù†Ù€Ù‡Ù€ÙŠÙ€Ø§ØªÙ€Ùƒ Ù‡Ù€Ù†Ù€Ø§ â˜ ï¸ â†œÙ„Ù€Ù„Ø£Ø³Ù€Ù Ø­Ù€Ù€Ø²Ø±ØªÙ€Ùƒ Ø§ÙƒÙ€ØªÙ€Ø± Ù…Ù€Ù† Ù…Ù€Ø±Ù‡ Ø§Ù†Ù€Ùƒ Ù‡Ù€ØªÙ€Ø·Ù€Ø±Ø¯ Ù…Ù€Ù† Ø§Ù„Ù€Ø±ÙˆÙ… Ø¨Ù€Ù€Ø³ Ù†Ù€Ù‚Ù€ÙˆÙ„ Ø§ÙŠ Ø§Ù„Ù€Ù…Ù€Ø® Ù†Ù€Ø¹Ù€Ù…Ù€Ù‡ ÙÙ€Ù€ÙŠ Ø§Ù„Ø§ØºÙ€Ù„Ù€Ø¨ Ù…Ù€Ù€Ø´ Ø¹Ù€Ù†Ù€Ø¯ÙƒğŸ¥±ğŸ˜®â€ğŸ’¨*`,

            mentions: [m.sender]

          }, { quoted: m });

          await conn.groupParticipantsUpdate(m.chat, [m.sender], 'remove');

        }

        break; // Ø¥Ø°Ø§ ÙˆØ¬Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø©ØŒ ÙŠØ®Ø±Ø¬ Ù…Ù† Ø§Ù„Ø­Ù„Ù‚Ø©

      } else {

        return m.reply('*â¦‘ğŸ•·ï¸â¦’ â Ù„Ø§ Ø§Ù…Ù€Ù„Ù€Ùƒ Ø§Ù„Ù€ØµÙ€Ù„Ù€Ø§Ø­Ù€ÙŠÙ€Ø§Øªâš ï¸ â†œÙ„Ù€Ù€Ù… ØªÙ€Ø¹Ù€Ø·Ù€ÙˆÙ†Ù€Ù€ÙŠ Ø§Ù„Ù€ØµÙ€Ù„Ù€Ø­Ù€ÙŠÙ€Ø§Øª Ù„Ù€Ø£Ù‚Ù€Ù€ÙˆÙ… Ø¨Ù€Ù„Ù€ØªÙ€Ø­Ù€Ø°ÙŠÙ€Ù€Ø±Ø§Øª Ø§Ø±ÙÙ€Ø¹Ù€ÙˆÙ†Ù€Ù€ÙŠ Ø§Ø¯Ù…Ù€Ù€Ù€Ù€Ù†ğŸš«ğŸ« *');

      }

    }

  }

  return !0;

}