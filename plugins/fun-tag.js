import fs from 'fs'; // تأكد من استيراد fs

const handler = async (m, { conn }) => {
  await conn.sendMessage(m.chat, { react: { text: "👑", key: m.key }});

  // نصوص اللعبة مع الإيموجي المناسب
  const نصوص = [
    "أول منشن يحبك ❤️",
    "ثاني منشن يراقبك من بعيد 👀",
    "ثالث منشن يغار عليك 😏",
    "رابع منشن يتمنى لك الخير 🌟",
    "خامس منشن يعتبرك صديقه المقرب 🤗",
    "سادس منشن يعتقد أنك غريب الأطوار 🤨",
    "سابع منشن يبغضك 😠",
    "ثامن منشن يثق بك 💪",
    "تاسع منشن يشجعك دائمًا 👏",
    "عاشر منشن يتمنى لك السعادة 😄",
    "أول منشن يريد أن يخرج معك 🍽️",
    "ثاني منشن يغار من نجاحك 💼",
    "ثالث منشن يحب حديثك كثيرًا 🎤",
    "رابع منشن يتمنى أن يكون مثلك ✨",
    "خامس منشن يتجاهلك لكنه يحبك سرًا 😶❤️",
    "سادس منشن يعتقد أنك مبدع 🎨",
    "سابع منشن لا يصدق ما تفعله 😲",
    "ثامن منشن يريد أن يسرق أفكارك 💡",
    "تاسع منشن يغار من أسلوبك المميز 😎",
    "عاشر منشن يضحك على نكاتك دائمًا 😂",
    "أول منشن يريد السفر معك ✈️",
    "ثاني منشن يعجب بذكائك 🧠",
    "ثالث منشن يكره أنك دائمًا على حق 😅",
    "رابع منشن يرى فيك قدوة 👑",
    "خامس منشن يتمنى أن يكون شريك حياتك 💍",

    // رسائل جديدة باللهجة المصرية
    "أول منشن عاوز يخرج معاك النهاردة 🍔",
    "تاني منشن بيغير عليك زي النار 🔥",
    "تالت منشن عاوز يبقى صاحبك المقرب جدًا 🤝",
    "رابع منشن نفسه يشوفك كل يوم 👀",
    "خامس منشن مش قادر يبطل يتكلم عنك 💬",
    "سادس منشن شايفك أحسن حد في الدنيا 😍",
    "سابع منشن بيتمنى يبقى زيك في كل حاجة 💪",

    // رسائل جديدة باللغة العربية الفصحى
    "ثامن منشن يعتبرك مصدر إلهامه 🎨",
    "تاسع منشن يتمنى أن يكون معك دائمًا 🌍",
    "عاشر منشن يحلم أن يسافر معك إلى مكان بعيد ✈️",
    "أول منشن يعتقد أنك تجلب الحظ الجيد 🍀",
    "ثاني منشن دائمًا يبتسم عند رؤية رسائلك 😊",
    "ثالث منشن يشعر بأنك الشخص الذي كان يبحث عنه طوال حياته 🌟",
    "رابع منشن يفتخر بك ويعتبرك مثله الأعلى 🏆",
    "خامس منشن يتمنى أن تشاركه كل تفاصيل حياتك 📖",
  ];

  // اختيار نص عشوائي
  const نص_عشوائي = pickRandom(نصوص);

  // مسار الصورة المحلي
  const localImagePath = './PCB/تاج.jpg';

  // إرسال الرسالة مع الصورة والنص العشوائي
  if (fs.existsSync(localImagePath)) {
    conn.sendMessage(m.chat, { image: fs.readFileSync(localImagePath), caption: `- *${نص_عشوائي}*` }, { quoted: m });
  } else {
    m.reply(`*✧━═════━⊰👑⊱━═════━✧*\n*❐⤶ ${نص_عشوائي}*\n*✠ ──── ✷ ─ ‹🔥› ─ ✷ ──── ✠*`);
  }
};

handler.help = ['تاج'];
handler.tags = ['fu'];
handler.command = ['تاج'];
export default handler;

function pickRandom(list) {
  return list[Math.floor(list.length * Math.random())];
}