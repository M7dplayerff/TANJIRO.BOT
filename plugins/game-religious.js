import fs from 'fs';

const timeout = 60000;
const poin = 1500;  // ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù†Ù‚Ø§Ø· Ù…Ù† 500 Ø¥Ù„Ù‰ 1500

const handler = async (m, { conn }) => {
  await conn.sendMessage(m.chat, { react: { text: "ğŸ¤²",key: m.key,}
  })
  conn.tekateki = conn.tekateki ? conn.tekateki : {};
  const id = m.chat;

  if (id in conn.tekateki) {
   conn.reply(m.chat, '*â¦§ğŸ•¹ï¸â¦¨ Ù…Ù€Ù€Ø§ Ø²Ø§Ù„ Ù‡Ù€Ù†Ù€Ø§Ùƒ Ù„Ù€Ø¹Ù€Ø¨Ù€Ø© Ø¬Ù€Ù€Ø§Ø±ÙŠÙ€Ù€Ø©*\n\n- *Ù„Ù€Ù„Ù€Ø§Ù†Ù€Ø³Ù€Ø­Ù€Ø§Ø¨â†œ.Ø§Ù†Ø³Ø­Ø¨*', conn.tekateki[id][0]);
    throw false;
  }

  // ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙˆØ§Ù„Ø£Ø¬ÙˆØ¨Ø© Ø­ÙˆÙ„ Ø§Ù„Ø¯ÙŠÙ† Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ
  const tekateki = [
    { question: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø£ÙˆÙ„ Ù†Ø¨ÙŠ ÙÙŠ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ØŸ", response: "Ø¢Ø¯Ù…", options: ["Ø¢Ø¯Ù…", "Ù†ÙˆØ­", "Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…", "Ù…Ø­Ù…Ø¯"] },
    { question: "Ù…Ø§ Ù‡ÙŠ Ø£ÙˆÙ„Ù‰ Ø³ÙˆØ± Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…ØŸ", response: "Ø§Ù„ÙØ§ØªØ­Ø©", options: ["Ø§Ù„ÙØ§ØªØ­Ø©", "Ø§Ù„Ø¨Ù‚Ø±Ø©", "Ø§Ù„Ø¥Ø®Ù„Ø§Øµ", "Ø§Ù„Ù†Ø§Ø³"] },
    { question: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø£ÙÙ… Ø§Ù„Ù†Ø¨ÙŠ Ù…Ø­Ù…Ø¯ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…ØŸ", response: "Ø¢Ù…Ù†Ø©", options: ["Ø¢Ù…Ù†Ø©", "Ø®Ø¯ÙŠØ¬Ø©", "ÙØ§Ø·Ù…Ø©", "Ø¹Ø§Ø¦Ø´Ø©"] },
    { question: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ø±ÙƒØ§Ù† Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ØŸ", response: "Ø®Ù…Ø³Ø©", options: ["Ø®Ù…Ø³Ø©", "Ø³ØªØ©", "Ø£Ø±Ø¨Ø¹Ø©", "Ø³Ø¨Ø¹Ø©"] },
    { question: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø§Ù„ÙƒØªØ§Ø¨ Ø§Ù„Ù…Ù‚Ø¯Ø³ ÙÙŠ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ØŸ", response: "Ø§Ù„Ù‚Ø±Ø¢Ù†", options: ["Ø§Ù„Ù‚Ø±Ø¢Ù†", "Ø§Ù„ØªÙˆØ±Ø§Ø©", "Ø§Ù„Ø¥Ù†Ø¬ÙŠÙ„", "Ø§Ù„Ø²Ø¨ÙˆØ±"] },
    { question: "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ù†Ø¨ÙŠ Ø§Ù„Ø°ÙŠ Ù‚Ø§Ù… Ø¨Ø¨Ù†Ø§Ø¡ Ø§Ù„ÙƒØ¹Ø¨Ø©ØŸ", response: "Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…", options: ["Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…", "Ù…Ø­Ù…Ø¯", "Ù…ÙˆØ³Ù‰", "Ø¹ÙŠØ³Ù‰"] },
    { question: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø¢Ø®Ø± Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡ ÙÙŠ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ØŸ", response: "Ù…Ø­Ù…Ø¯", options: ["Ù…Ø­Ù…Ø¯", "Ø¹ÙŠØ³Ù‰", "Ù…ÙˆØ³Ù‰", "Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…"] },
    { question: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø© Ø§Ù„ØªÙŠ ØªÙØµÙ„Ù‰ Ø¨Ø¹Ø¯ ØµÙ„Ø§Ø© Ø§Ù„Ø¹Ø´Ø§Ø¡ØŸ", response: "Ù‚ÙŠØ§Ù… Ø§Ù„Ù„ÙŠÙ„", options: ["Ù‚ÙŠØ§Ù… Ø§Ù„Ù„ÙŠÙ„", "Ø§Ù„ØªÙ‡Ø¬Ø¯", "Ø§Ù„ÙØ¬Ø±", "Ø§Ù„Ø¹ØµØ±"] },
    { question: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ø¬Ø²Ø§Ø¡ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…ØŸ", response: "Ø«Ù„Ø§Ø«ÙˆÙ†", options: ["Ø«Ù„Ø§Ø«ÙˆÙ†", "Ø¹Ø´Ø±ÙˆÙ†", "Ø®Ù…Ø³Ø© Ø¹Ø´Ø±", "Ø£Ø±Ø¨Ø¹ÙˆÙ†"] },
    { question: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø§Ù„Ø³ÙˆØ±Ø© Ø§Ù„ØªÙŠ ØªØ±ÙƒØ² Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø®Ù„Ø§Øµ ÙÙŠ Ø§Ù„Ø¹Ù‚ÙŠØ¯Ø©ØŸ", response: "Ø§Ù„Ø¥Ø®Ù„Ø§Øµ", options: ["Ø§Ù„Ø¥Ø®Ù„Ø§Øµ", "Ø§Ù„Ù†Ø§Ø³", "Ø§Ù„ÙØ§ØªØ­Ø©", "Ø§Ù„Ø¨Ù‚Ø±Ø©"] },
    { question: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø£Ø´Ù‡Ø± ØºØ²ÙˆØ© Ù„Ù„Ù†Ø¨ÙŠ Ù…Ø­Ù…Ø¯ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…ØŸ", response: "ØºØ²ÙˆØ© Ø¨Ø¯Ø±", options: ["ØºØ²ÙˆØ© Ø¨Ø¯Ø±", "ØºØ²ÙˆØ© Ø£Ø­Ø¯", "ØºØ²ÙˆØ© Ø§Ù„Ø®Ù†Ø¯Ù‚", "ØºØ²ÙˆØ© Ù…Ø¤ØªØ©"] },
    { question: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ØªÙŠ ÙˆÙÙ„Ø¯ ÙÙŠÙ‡Ø§ Ø§Ù„Ù†Ø¨ÙŠ Ù…Ø­Ù…Ø¯ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…ØŸ", response: "Ù…ÙƒØ©", options: ["Ù…ÙƒØ©", "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©", "Ø§Ù„Ø·Ø§Ø¦Ù", "Ø¨Ø¯Ø±"] },
    { question: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø§Ù„Ù†Ø¨ÙŠ Ø§Ù„Ø°ÙŠ Ø§Ø¨ØªÙ„Ø¹Ù‡ Ø§Ù„Ø­ÙˆØª Ø«Ù… Ø®Ø±Ø¬ Ù…Ù†Ù‡ØŸ", response: "ÙŠÙˆÙ†Ø³", options: ["ÙŠÙˆÙ†Ø³", "Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…", "Ù…ÙˆØ³Ù‰", "Ù…Ø­Ù…Ø¯"] },
    { question: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„ØµÙ„ÙˆØ§Øª Ø§Ù„ØªÙŠ ØªÙ‚Ø§Ù… ÙŠÙˆÙ… Ø§Ù„Ø¬Ù…Ø¹Ø©ØŸ", response: "Ø§Ù„Ø¬Ù…Ø¹Ø©", options: ["Ø§Ù„Ø¬Ù…Ø¹Ø©", "Ø§Ù„Ø¹ØµØ±", "Ø§Ù„Ø¸Ù‡Ø±", "Ø§Ù„Ù…ØºØ±Ø¨"] },
    { question: "Ù…Ù† Ù‡Ùˆ Ø§Ù„ØµØ­Ø§Ø¨ÙŠ Ø§Ù„Ø°ÙŠ ÙƒØ§Ù† ÙŠÙ„Ù‚Ø¨ Ø¨Ù€ 'Ø£Ù…ÙŠÙ† Ø§Ù„Ø£Ù…Ø©'ØŸ", response: "Ø£Ø¨Ùˆ Ø¨ÙƒØ± Ø§Ù„ØµØ¯ÙŠÙ‚", options: ["Ø£Ø¨Ùˆ Ø¨ÙƒØ± Ø§Ù„ØµØ¯ÙŠÙ‚", "Ø¹Ù…Ø± Ø¨Ù† Ø§Ù„Ø®Ø·Ø§Ø¨", "Ø¹Ø«Ù…Ø§Ù† Ø¨Ù† Ø¹ÙØ§Ù†", "Ø¹Ù„ÙŠ Ø¨Ù† Ø£Ø¨ÙŠ Ø·Ø§Ù„Ø¨"] },
    { question: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø§Ù„Ø­Ø¬Ø© Ø§Ù„ÙƒØ¨Ø±Ù‰ ÙÙŠ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ØŸ", response: "Ø­Ø¬Ø© Ø§Ù„ÙˆØ¯Ø§Ø¹", options: ["Ø­Ø¬Ø© Ø§Ù„ÙˆØ¯Ø§Ø¹", "Ø­Ø¬Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…", "Ø­Ø¬Ø© Ø§Ù„ÙØªØ­", "Ø­Ø¬Ø© Ø§Ù„ØªÙˆØ¨Ø©"] },
    { question: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø§Ù„Ù†Ø¨ÙŠ Ø§Ù„Ø°ÙŠ Ø£Ø±Ø³Ù„ Ø¥Ù„Ù‰ Ø¨Ù†ÙŠ Ø¥Ø³Ø±Ø§Ø¦ÙŠÙ„ØŸ", response: "Ù…ÙˆØ³Ù‰", options: ["Ù…ÙˆØ³Ù‰", "Ø¹ÙŠØ³Ù‰", "Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…", "Ù…Ø­Ù…Ø¯"] },
    { question: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø§Ù„Ø³ÙˆØ±Ø© Ø§Ù„ØªÙŠ ØªÙÙ‚Ø±Ø£ ÙÙŠ ÙƒÙ„ ØµÙ„Ø§Ø©ØŸ", response: "Ø§Ù„ÙØ§ØªØ­Ø©", options: ["Ø§Ù„ÙØ§ØªØ­Ø©", "Ø§Ù„Ø¥Ø®Ù„Ø§Øµ", "Ø§Ù„Ù†Ø§Ø³", "Ø§Ù„Ø¨Ù‚Ø±Ø©"] },
    { question: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø§Ù„Ø³ÙˆØ±Ø© Ø§Ù„ØªÙŠ ØªØªØ­Ø¯Ø« Ø¹Ù† Ù…Ø¹Ø±ÙƒØ© Ø¨Ø¯Ø±ØŸ", response: "Ø§Ù„Ø£Ù†ÙØ§Ù„", options: ["Ø§Ù„Ø£Ù†ÙØ§Ù„", "Ø§Ù„Ø¨Ù‚Ø±Ø©", "Ø§Ù„ÙØªØ­", "Ø§Ù„ØªÙˆØ¨Ø©"] },
    { question: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ù†Ø¨ÙˆÙŠØ© Ø§Ù„ØªÙŠ ØªØ­Ø¯Ø¯ ÙƒÙŠÙÙŠØ© Ø£Ø¯Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø©ØŸ", response: "Ø§Ù„Ø­Ø¯ÙŠØ«", options: ["Ø§Ù„Ø­Ø¯ÙŠØ«", "Ø§Ù„Ù‚Ø±Ø¢Ù†", "Ø§Ù„Ø³ÙŠØ±Ø©", "Ø§Ù„ÙÙ‚Ù‡"] }
  ];

  const json = tekateki[Math.floor(Math.random() * tekateki.length)];
  if (!json) {
    conn.reply(m.chat, "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø¦Ù„Ø© Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠØ§.", m);
    return;
  }

  // ØªØ±ØªÙŠØ¨ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø¨Ø´ÙƒÙ„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ
  const shuffledOptions = json.options.sort(() => Math.random() - 0.5);

  const caption = `
â·® â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• *âŒ Ø§Ø³Ø¦Ù„Ù‡ Ø¯ÙŠÙ†ÙŠÙ‡âŒ¡* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
 *â” â‰½ â ${json.question}*

${shuffledOptions.map((option, index) => ` *â ${option}*`).join('\n\n')}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•‘  *ã€â° Ø§Ù„ÙˆÙ‚Øª: 60:00ã€‘*                                   â•‘
â•‘  *ã€ğŸ† Ø§Ù„Ø¬Ø§Ø¦Ø²Ø©: 1500 XPã€‘*                              â•‘
â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£
â•‘  *â¤ Ø§ÙƒØªØ¨ \`.Ø§Ù†Ø³Ø­Ø¨\` Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø©*                â•‘
â•‘  *â¤ Ø§Ø¹Ù…Ù„ Ø±ÙŠØ¨Ù„Ø§ÙŠ ÙˆØ¬Ø§ÙˆØ¨*                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• âŒ ğŸ•·ï¸âŒ¡ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                *Ê™y:á´›á´€É´á´ŠÉªÊ€á´ğ–£¬Ê™á´á´›*
`.trim();

  conn.tekateki[id] = [
    await conn.sendMessage(m.chat, { image: { url: './PCB/Religious question.jpg' }, caption: caption }, { quoted: m }),
    json,
    poin,
    setTimeout(async () => {
      if (conn.tekateki[id]) await conn.reply(m.chat, `*âœ¦â”â”â”â”â”âœ¦âŠ°ğŸ•·ï¸âŠ±âœ¦â”â”â”â”â”âœ¦*\n*â¦§ğŸ•¹ï¸â¦¨ Ø§Ù†Ù€Ù€ØªÙ€Ù€Ù‡Ù€Ù€ÙŠ Ø§Ù„Ù€Ù€ÙˆÙ‚Ù€Ù€Øª*\n
- *Ø§Ù„Ù€Ø§Ø¬Ù€Ø§Ø¨Ù€Ø© ÙƒÙ€Ù€Ù€Ø§Ù†Ù€Ù€Øªâ†œ${json.response}*\n*âœ¦â”â”â”â”â”âœ¦âŠ°ğŸ•·ï¸âŠ±âœ¦â”â”â”â”â”âœ¦*`, conn.tekateki[id][0]);
      delete conn.tekateki[id];
    }, timeout)
  ];
};

// ØªØ­Ø¯ÙŠØ« Ø£Ù…Ø± Ø§Ù„Ù‡Ø§ÙˆÙ†Ø¯Ù„Ø± Ù„ÙŠØ´Ù…Ù„ Ø§Ù„Ø£Ù…Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯ ÙÙ‚Ø·
handler.help = ['Ø§Ø³Ø¦Ù„Ù‡_Ø¯ÙŠÙ†ÙŠÙ‡'];
handler.tags = ['ga'];
handler.command = /^Ø§Ø³Ø¦Ù„Ù‡_Ø¯ÙŠÙ†ÙŠÙ‡$/i;

export default handler;